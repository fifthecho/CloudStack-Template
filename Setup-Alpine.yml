---
- name: update apk cache (Alpine)
  apk: update_cache=yes
- name: install "core" packages (Alpine)
  apk: name={{ item }} state=latest
  with_items:
    - dhcpcd
    - openssh-client
    - vim
    - screen
    - tmux
    - curl
    - wget
    - lynx
    - links
    - sudo
    - git
    - rsyslog
    - rsync
    - nmap
    - netcat-openbsd
    - strace
    - bind-tools
- name: update system (Alpine)
  apk: upgrade=yes

- name: set timezone to UTC (Alpine)
  file: path=/etc/localtime src=/etc/zoneinfo/UTC state=link

- name: create directory to hold DHCP leases for CloudStack scripts
  file: state=directory mode=0755 path=/var/lib/dhcp

- name: setup services (Alpine)
  service: enabled=yes name={{ item }}
  with_items:
    - rsyslog
    - cron
    - dhcpcd
    - nptd
    - sshd